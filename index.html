    <!doctype html>
    <html lang="fr">
    <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Escalier Novo</title>
    <style>
        body {
        margin: 0;
        font-family: "Segoe UI", Arial, sans-serif;
        background: #f6f6f6;
        color: #222;
        padding-bottom: 30px;
        }

        h1 {
        text-align: center;
        font-size: 2.2rem;
        margin: 24px 0 12px;
        color: #333;
        letter-spacing: 1px;
        }

        #videos-container {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        grid-template-rows: repeat(2, auto);
        gap: 12px;
        max-width: 1200px;
        margin: 0 auto 20px;
        padding: 16px;
        box-sizing: border-box;
        }

        .video-card {
        background: white;
        border-radius: 12px;
        padding: 8px;
        box-shadow: 0 4px 12px rgba(16, 24, 40, 0.06);
        display: flex;
        flex-direction: column;
        align-items: center;
        position: relative;
        }

        video {
        width: 100%;
        aspect-ratio: 16/9;
        border-radius: 8px;
        background: #000;
        cursor: pointer;
        object-fit: cover;
        }

        video::-webkit-media-controls,
        video::-moz-media-controls,
        video::-ms-media-controls {
        display: none !important;
        }

        .counter {
        margin-top: 6px;
        font-weight: bold;
        font-size: 1rem;
        }

        .label {
        font-weight: bold;
        margin-bottom: 6px;
        font-size: 1rem;
        }

        /* ===== POPUP ===== */
        #winner-popup {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(0.8);
        background: rgba(255, 255, 255, 0.95);
        padding: 40px 60px;
        border-radius: 16px;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
        font-size: 2rem;
        text-align: center;
        z-index: 1000;
        opacity: 0;
        transition: all 0.4s ease;
        }

        #winner-popup.show {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
        }

        /* ===== CONTENEUR DE QUESTIONS (MIS Ã€ JOUR) ===== */
        #question-section {
        max-width: 800px;
        margin: 20px auto;
        padding: 20px;
        background: #fff;
        border-radius: 12px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        text-align: center;
        }

        #question-header {
        font-size: 1.4rem;
        color: #5a7d9a;
        margin-bottom: 10px;
        font-weight: 600;
        }

        #current-question {
        font-size: 1.6rem;
        color: #333;
        font-weight: bold;
        min-height: 40px;
        display: flex;
        justify-content: center;
        align-items: center;
        transition: opacity 0.3s ease;
        margin-bottom: 15px; /* Ajout d'espace avant les rÃ©ponses */
        }
        
        /* NOUVEAU: Style pour les rÃ©ponses */
        #answer-options {
        display: grid;
        grid-template-columns: 1fr 1fr; /* 2 colonnes */
        gap: 10px;
        margin-top: 10px;
        transition: opacity 0.3s ease; /* Animation de fondu */
        }

        .answer-option {
        background: #f0f4f8;
        padding: 12px;
        border-radius: 8px;
        font-size: 1.1rem;
        color: #2c3e50;
        text-align: left; /* Aligner le texte des rÃ©ponses Ã  gauche */
        padding-left: 15px;
        }

        #nav-info {
        margin-top: 20px; /* Augmentation de la marge */
        color: #777;
        font-size: 0.9rem;
        }
    </style>
    </head>
    <body>

    <div id="videos-container"></div>

    <div id="question-section">
        <div id="question-header">Question Actuelle</div>
        <div id="current-question"></div>
        
        <div id="answer-options"></div>

    </div>

    <div id="winner-popup"></div>

<script>
Â  Â  const keys = 'azertyui'.split('');
Â  Â  const videosContainer = document.getElementById('videos-container');
Â  Â  const popup = document.getElementById('winner-popup');
Â  Â  const questionDisplay = document.getElementById('current-question');
Â  Â  const answerOptionsContainer = document.getElementById('answer-options'); 
Â  Â  const videos = [];
Â  Â  let winnerDeclared = false; 

Â  Â  let buzzedPlayer = null; 
Â  Â  let isQuestionActive = true; 

Â  Â  // DÃ©finition des sources de vidÃ©o
Â  Â  const VIDEO_UP = "animeup.mp4"; // VidÃ©o de progression (bonne rÃ©ponse)
Â  Â  const VIDEO_DOWN = "animebas.mp4"; // VidÃ©o de perte (mauvaise rÃ©ponse)
Â  Â  
Â  Â  const questions = [
Â  Â  Â  {
Â  Â  Â  Â  question: "Quelle est la capitale de l'Australie ?",
Â  Â  Â  Â  answers: ["Sydney", "Melbourne", "Canberra", "Brisbane"],
Â  Â  Â  Â  correctIndex: 2 
Â  Â  Â  },
Â  Â  Â  {
Â  Â  Â  Â  question: "Combien de cÃ´tÃ©s possÃ¨de un hexagone ?",
Â  Â  Â  Â  answers: ["5", "6", "7", "8"],
Â  Â  Â  Â  correctIndex: 1 
Â  Â  Â  },
Â  Â  Â  {
Â  Â  Â  Â  question: "Qui a peint La Joconde ?",
Â  Â  Â  Â  answers: ["Michel-Ange", "RaphaÃ«l", "LÃ©onard de Vinci", "Donatello"],
Â  Â  Â  Â  correctIndex: 2 
Â  Â  Â  },
Â  Â  Â  {
Â  Â  Â  Â  question: "Quel est le plus grand ocÃ©an du monde ?",
Â  Â  Â  Â  answers: ["Atlantique", "Indien", "Arctique", "Pacifique"],
Â  Â  Â  Â  correctIndex: 3 
Â  Â  Â  },
Â  Â  Â  {
Â  Â  Â  Â  question: "Quel est le symbole chimique de l'eau ?",
Â  Â  Â  Â  answers: ["O2", "CO2", "H2O", "N2"],
Â  Â  Â  Â  correctIndex: 2 
Â  Â  Â  },
Â  Â  Â  {
Â  Â  Â  Â  question: "Dans quel pays se trouve le Mont Fuji ?",
Â  Â  Â  Â  answers: ["Chine", "Japon", "CorÃ©e du Sud", "Vietnam"],
Â  Â  Â  Â  correctIndex: 1 
Â  Â  Â  },
Â  Â  Â  {
Â  Â  Â  Â  question: "Qui a Ã©crit 'Les MisÃ©rables' ?",
Â  Â  Â  Â  answers: ["Alexandre Dumas", "Victor Hugo", "Ã‰mile Zola", "Gustave Flaubert"],
Â  Â  Â  Â  correctIndex: 1 
Â  Â  Â  },
Â  Â  Â  {
Â  Â  Â  Â  question: "Gaz le plus abondant dans l'atmosphÃ¨re terrestre ?",
Â  Â  Â  Â  answers: ["OxygÃ¨ne", "Azote", "Dioxyde de carbone", "Argon"],
Â  Â  Â  Â  correctIndex: 1 
Â  Â  Â  },
Â  Â  Â  {
Â  Â  Â  Â  question: "Nom de la galaxie oÃ¹ se situe la Terre ?",
Â  Â  Â  Â  answers: ["AndromÃ¨de", "Le Sombrero", "La Voie LactÃ©e", "Le Tourbillon"],
Â  Â  Â  Â  correctIndex: 2 
Â  Â  Â  },
Â  Â  Â  {
Â  Â  Â  Â  question: "Combien de doigts a la main de Mickey Mouse ?",
Â  Â  Â  Â  answers: ["3", "4", "5", "6"],
Â  Â  Â  Â  correctIndex: 1 
Â  Â  Â  }
Â  Â  ];
Â  Â  let currentQuestionIndex = 0;
Â  Â  const answerPrefixes = ['A', 'B', 'C', 'D']; 

Â  Â  /**
Â  Â  Â * Change la source de la vidÃ©o et la dÃ©marre.
Â  Â  Â * @param {HTMLVideoElement} videoEl L'Ã©lÃ©ment vidÃ©o.
Â  Â  Â * @param {string} newSrc Le chemin du nouveau fichier vidÃ©o.
Â  Â  Â */
Â  Â  function setVideoSourceAndPlay(videoEl, newSrc) {
Â  Â  Â  Â  // VÃ©rifie si la source a changÃ©.
Â  Â  Â  Â  if (videoEl.querySelector('source').getAttribute('src') !== newSrc) {
Â  Â  Â  Â  Â  Â  videoEl.querySelector('source').setAttribute('src', newSrc);
Â  Â  Â  Â  Â  Â  videoEl.load(); // Recharge la vidÃ©o avec la nouvelle source
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  if (videoEl.ended) videoEl.currentTime = 0;
Â  Â  Â  Â  videoEl.play().catch(() => {});
Â  Â  }

Â  Â  // FONCTION MODIFIÃ‰E : pour valider la rÃ©ponse du joueur qui a buzzÃ©
Â  Â  function validateAnswer(playerIndex, answerIndex) {
Â  Â  Â  Â  if (buzzedPlayer === playerIndex) {
Â  Â  Â  Â  Â  Â  const currentData = questions[currentQuestionIndex];
Â  Â  Â  Â  Â  Â  const isCorrect = answerIndex === currentData.correctIndex;
Â  Â  Â  Â  Â  Â  const videoEl = videos[playerIndex].video;

Â  Â  Â  Â  Â  Â  if (isCorrect) {
Â  Â  Â  Â  Â  Â  Â  Â  // âœ… BONNE RÃ‰PONSE : Jouer la vidÃ©o de montÃ©e (animeup.mp4)
Â  Â  Â  Â  Â  Â  Â  Â  setVideoSourceAndPlay(videoEl, VIDEO_UP);
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  // Monte d'un Ã©tage
Â  Â  Â  Â  Â  Â  Â  Â  updateCount(playerIndex, true);
Â  Â  Â  Â  Â  Â  Â  Â  showWinnerPopup(`âœ… Joueur ${playerIndex + 1} a bien rÃ©pondu ! (+1 Ã©tage)`);
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  // âŒ MAUVAISE RÃ‰PONSE : Jouer la vidÃ©o de descente (animebas.mp4)
Â  Â  Â  Â  Â  Â  Â  Â  setVideoSourceAndPlay(videoEl, VIDEO_DOWN);
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  showWinnerPopup(`âŒ Joueur ${playerIndex + 1} s'est trompÃ©. Question terminÃ©e.`);
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // On passe Ã  la question suivante aprÃ¨s un petit dÃ©lai
Â  Â  Â  Â  Â  Â  setTimeout(nextQuestion, 2000); 
Â  Â  Â  Â  }
Â  Â  }


Â  Â  // Fonction pour afficher la question ET les rÃ©ponses
Â  Â  function displayQuestion() {
Â  Â  Â  answerOptionsContainer.innerHTML = ''; 
Â  Â  Â  buzzedPlayer = null; 
Â  Â  Â  isQuestionActive = true; 

Â  Â  Â  if (currentQuestionIndex < questions.length) {
Â  Â  Â  Â  const currentData = questions[currentQuestionIndex];
Â  Â  Â  Â  
Â  Â  Â  Â  questionDisplay.textContent = currentData.question;
Â  Â  Â  Â  
Â  Â  Â  Â  currentData.answers.forEach((answer, index) => {
Â  Â  Â  Â  Â  const answerEl = document.createElement('div');
Â  Â  Â  Â  Â  answerEl.className = 'answer-option';
Â  Â  Â  Â  Â  answerEl.id = `answer-option-${index}`;
Â  Â  Â  Â  Â  answerEl.textContent = `${answerPrefixes[index]}. ${answer}`; 
Â  Â  Â  Â  Â  answerOptionsContainer.appendChild(answerEl);
Â  Â  Â  Â  });

Â  Â  Â  } else {
Â  Â  Â  Â  questionDisplay.textContent = "FIN : Plus de questions disponibles !";
Â  Â  Â  Â  isQuestionActive = false; 
Â  Â  Â  }
Â  Â  }

Â  Â  // Fonction pour passer Ã  la question suivante
Â  Â  function nextQuestion() {
Â  Â  Â  // DÃ©sactiver le buzz pour la transition
Â  Â  Â  isQuestionActive = false; 

Â  Â  Â  if (currentQuestionIndex < questions.length) { 
Â  Â  Â  Â  // Appliquer une animation de fondu
Â  Â  Â  Â  questionDisplay.style.opacity = 0;
Â  Â  Â  Â  answerOptionsContainer.style.opacity = 0; 
Â  Â  Â  Â  
Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  currentQuestionIndex++;
Â  Â  Â  Â  Â  displayQuestion();
Â  Â  Â  Â  Â  questionDisplay.style.opacity = 1;
Â  Â  Â  Â  Â  answerOptionsContainer.style.opacity = 1; 
Â  Â  Â  Â  }, 300);
Â  Â  Â  }
Â  Â  }

Â  Â  // Afficher le popup central
Â  Â  function showWinnerPopup(text) {
Â  Â  Â  popup.textContent = text;
Â  Â  Â  popup.classList.add('show');
Â  Â  Â  setTimeout(() => popup.classList.remove('show'), 2000); 
Â  Â  }

Â  Â  // Fonction de mise Ã  jour du compteur
Â  Â  function updateCount(playerIndex, isQuizWin = false) {
Â  Â  Â  const videoData = videos[playerIndex];
Â  Â  Â  
Â  Â  Â  if (isQuizWin) { 
Â  Â  Â  Â  Â  videoData.clickCount += 1;
Â  Â  Â  } 

Â  Â  Â  videoData.countEl.textContent = videoData.clickCount;
Â  Â  Â  
Â  Â  Â  if (videoData.clickCount >= 10 && !winnerDeclared) {
Â  Â  Â  Â  winnerDeclared = true;
Â  Â  Â  Â  showWinnerPopup(`ğŸ† Joueur ${playerIndex + 1} est arrivÃ© premier !`);
Â  Â  Â  Â  isQuestionActive = false; 
Â  Â  Â  }
Â  Â  }

Â  Â  // CrÃ©ation des 8 vidÃ©os
Â  Â  keys.forEach((key, index) => {
Â  Â  Â  const section = document.createElement('div');
Â  Â  Â  section.className = 'video-card';
Â  Â  Â  // NOTE: La balise <video> contient une balise <source> pour faciliter le changement de source par JS
Â  Â  Â  section.innerHTML = `
Â  Â  Â  Â  <div class="label">Joueur ${index + 1}</div>
Â  Â  Â  Â  <video id="video${index}" preload="metadata" playsinline webkit-playsinline>
Â  Â  Â  Â  Â  <source src="${VIDEO_UP}" type="video/mp4">
Â  Â  Â  Â  </video>
Â  Â  Â  Â  <div class="counter">Ã‰tage = <span id="count${index}">0</span></div>
Â  Â  Â  `;
Â  Â  Â  videosContainer.appendChild(section);

Â  Â  Â  const videoEl = section.querySelector('video');
Â  Â  Â  const countEl = section.querySelector(`#count${index}`);
Â  Â  Â  let clickCount = 0;

Â  Â  Â  // Le clic sur la vidÃ©o ne sert qu'Ã  PAUSER/JOUER manuellement
Â  Â  Â  videoEl.addEventListener('click', () => {
Â  Â  Â  Â  if (!isQuestionActive) {
Â  Â  Â  Â  Â  Â  if (videoEl.paused || videoEl.ended) {
Â  Â  Â  Â  Â  Â  Â  Â  videoEl.play().catch(() => {});
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  videoEl.pause();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  });

Â  Â  Â  videos.push({ key, video: videoEl, clickCount, countEl, playerIndex: index });
Â  Â  });

Â  Â  // ContrÃ´le via clavier
Â  Â  window.addEventListener('keydown', (e) => {
Â  Â  Â  const pressedKey = e.key.toLowerCase();
Â  Â  Â  const videoObj = videos.find(v => v.key === pressedKey);
Â  Â  Â  
Â  Â  Â  // 1. Bouton "Suivant" (N)
Â  Â  Â  if (pressedKey === 'n') {
Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  if (buzzedPlayer !== null) {
Â  Â  Â  Â  Â  Â  showWinnerPopup(`â³ Joueur ${buzzedPlayer + 1} n'a pas rÃ©pondu. Question suivante.`);
Â  Â  Â  Â  }
Â  Â  Â  Â  nextQuestion();
Â  Â  Â  Â  return;
Â  Â  Â  }
Â  Â  Â  
Â  Â  Â  // 2. Boutons de RÃ©ponse (1, 2, 3, 4) 
Â  Â  Â  const answerKeys = ['1', '2', '3', '4'];
Â  Â  Â  const answerIndex = answerKeys.indexOf(pressedKey);
Â  Â  Â  
Â  Â  Â  if (answerIndex !== -1 && buzzedPlayer !== null) {
Â  Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  Â  validateAnswer(buzzedPlayer, answerIndex);
Â  Â  Â  Â  Â  return;
Â  Â  Â  }

Â  Â  Â  // 3. Boutons de Buzz (a, z, e, r, t, y, u, i)
Â  Â  Â  if (videoObj && isQuestionActive && buzzedPlayer === null) {
Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  
Â  Â  Â  Â  // C'est le BUZZ !
Â  Â  Â  Â  buzzedPlayer = videoObj.playerIndex;
Â  Â  Â  Â  isQuestionActive = false; 
Â  Â  Â  Â  
Â  Â  Â  Â  // Afficher la pop-up
Â  Â  Â  Â  showWinnerPopup(`ğŸš¨ Joueur ${buzzedPlayer + 1} a buzzÃ© !`);

Â  Â  Â  Â  // Afficher l'instruction de rÃ©ponse dans la section question
Â  Â  Â  Â  questionDisplay.textContent = `${questions[currentQuestionIndex].question} (Joueur ${buzzedPlayer + 1} rÃ©pond)`;
Â  Â  Â  Â  
Â  Â  Â  } 
Â  Â  });

Â  Â  // Initialisation
Â  Â  window.onload = displayQuestion;
Â  Â  </script>
    </body>
    </html>